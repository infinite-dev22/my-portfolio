<!DOCTYPE html>
<html>
<head>
  <base href="/">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Jonathan Mark Mwigo - Senior Systems Engineer Portfolio">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Jonathan Mwigo">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <link rel="icon" type="image/png" href="favicon.png"/>
  <title>Jonathan Mark Mwigo</title>
  <link rel="manifest" href="manifest.json">

  <style>
    body {
      margin: 0;
      background: #020617;
    }

    #boot-loader {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #0f172a, #020617);
      color: #e2e8f0;
      font-family: "JetBrains Mono", monospace;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      overflow: hidden;
    }

    /* scanline effect */
    #boot-loader::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,0.02),
        rgba(255,255,255,0.02) 1px,
        transparent 1px,
        transparent 3px
      );
      pointer-events: none;
    }

    .boot-container {
      width: min(760px, 95%);
    }

    .boot-title {
      color: #38bdf8;
      margin-bottom: 12px;
      letter-spacing: 2px;
      font-size: 14px;
    }

    .ascii {
      color: #f97316;
      font-size: 11px;
      line-height: 1.2;
      margin-bottom: 14px;
      white-space: pre;
    }

    .boot-log {
      font-size: 13px;
      line-height: 1.6;
      min-height: 220px;
    }

    .boot-line { white-space: pre; }

    .reliability { color: #22c55e; font-weight: 600; }
    .nominal { color: #22c55e; font-weight: 700; }
    .latency { color: #38bdf8; }
    .error { color: #f97316; }

    .boot-progress {
      margin-top: 14px;
      height: 6px;
      background: #1e293b;
      border-radius: 4px;
      overflow: hidden;
    }

    .boot-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #38bdf8, #f97316);
      transition: width 0.2s ease;
    }

    .telemetry {
      margin-top: 14px;
      font-size: 12px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .meter {
      background: #020617;
      border: 1px solid #1e293b;
      padding: 6px;
      border-radius: 4px;
    }

    .meter-bar {
      height: 4px;
      background: #1e293b;
      margin-top: 4px;
      overflow: hidden;
      border-radius: 2px;
    }

    .meter-fill {
      height: 100%;
      width: 0%;
      background: #38bdf8;
      transition: width 0.2s ease;
    }

    .disk {
      display: inline-block;
      margin-left: 6px;
      color: #38bdf8;
      animation: blink 0.8s steps(2, start) infinite;
    }

    .boot-time {
      margin-top: 10px;
      font-size: 12px;
      color: #22c55e;
    }

    .fade-out {
      animation: fadeOut 0.5s forwards;
    }

    @keyframes blink {
      to { visibility: hidden; }
    }

    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; }
    }
  </style>
</head>

<body>
  <div id="boot-loader">
    <div class="boot-container">
      <div class="boot-title">NOMARD INC. :: SYSTEM BOOT</div>

      <div class="ascii">
   _   _                           _ 
  | \ | | ___  _ __ ___   __ _  __| |
  |  \| |/ _ \| '_ ` _ \ / _` |/ _` |
  | |\  | (_) | | | | | | (_| | (_| |
  |_| \_|\___/|_| |_| |_|\__,_|\__,_|
      </div>

      <div class="boot-log" id="boot-log"></div>

      <div class="boot-progress">
        <div class="boot-bar" id="boot-bar"></div>
      </div>

      <div class="telemetry">
        <div class="meter">
          CPU
          <div class="meter-bar"><div class="meter-fill" id="cpu"></div></div>
        </div>
        <div class="meter">
          MEM
          <div class="meter-bar"><div class="meter-fill" id="mem"></div></div>
        </div>
        <div class="meter">
          NET
          <div class="meter-bar"><div class="meter-fill" id="net"></div></div>
        </div>
      </div>

      <div class="boot-time" id="boot-time"></div>
    </div>
  </div>

  <script>
    const start = performance.now();

    const lines = [
      "[ INIT ] Nomard Core Runtime v3.2",
      "[ OK   ] JVM high-throughput engine",
      "[ OK   ] Rust async executor (Actix)",
      "[ OK   ] Reactive UI compositor",
      "[ OK   ] Distributed cache warmup",
      "[ METR ] Reliability: 99.99% uptime",
      "[ METR ] Latency: <100ms p95",
      "[ METR ] Error rate: 0.01%",
      "[ LOAD ] 10,000 req/min profile",
      "[ AUTH ] Jonathan Mark Mwigo",
      "[ ROLE ] Senior Systems Architect",
      "[ OK   ] ALL SYSTEMS NOMINAL"
    ];

    const log = document.getElementById("boot-log");
    const bar = document.getElementById("boot-bar");

    let lineIndex = 0;
    let charIndex = 0;
    let currentLineEl = null;

    function typeChar() {
      if (lineIndex >= lines.length) return;

      const text = lines[lineIndex];

      if (!currentLineEl) {
        currentLineEl = document.createElement("div");
        currentLineEl.className = "boot-line";
        log.appendChild(currentLineEl);
      }

      currentLineEl.textContent = text.substring(0, charIndex);
      charIndex++;

      if (charIndex <= text.length) {
        setTimeout(typeChar, 18);
      } else {
        styleLine(currentLineEl, text);
        currentLineEl = null;
        charIndex = 0;
        lineIndex++;

        bar.style.width = (lineIndex / lines.length) * 100 + "%";

        setTimeout(typeChar, 120);
      }
    }

    function styleLine(el, text) {
      if (text.includes("Reliability")) el.classList.add("reliability");
      if (text.includes("Latency")) el.classList.add("latency");
      if (text.includes("Error rate")) el.classList.add("error");
      if (text.includes("ALL SYSTEMS NOMINAL")) el.classList.add("nominal");
    }

    typeChar();

    // telemetry animation
    function animateMeters() {
      document.getElementById("cpu").style.width = (20 + Math.random()*60) + "%";
      document.getElementById("mem").style.width = (30 + Math.random()*50) + "%";
      document.getElementById("net").style.width = (10 + Math.random()*80) + "%";
    }
    setInterval(animateMeters, 300);

    // disk activity indicator
    const disk = document.createElement("span");
    disk.textContent = "â—";
    disk.className = "disk";
    document.querySelector(".boot-title").appendChild(disk);

    // boot time
    window.addEventListener("flutter-first-frame", function () {
      const end = performance.now();
      document.getElementById("boot-time").textContent =
        "Boot time: " + ((end - start) / 1000).toFixed(2) + "s";

      const loader = document.getElementById("boot-loader");
      loader.classList.add("fade-out");
      setTimeout(() => loader.remove(), 600);
    });
  </script>

  <script src="flutter.js" defer></script>
</body>
</html>
